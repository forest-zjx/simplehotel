<body>  
    
<div class=""jumbotron"" style="width: 100%;">  
	<div class="container-fluid"> 
		<div class="row-fluid" style="width: 100%;height: 325px;">
			<div class="span3">
				<%= form_for @hotal,url: {action: "update"}, :html => {:multipart => true} do |f| %>
	  				
		  			<%= f.label :酒店名称 %>
			  		<%= f.text_field :name  %>
			  		<%= f.label :酒店地址 %>
			  		<%= f.text_field :address  %>
					<%= f.label :酒店纬度%>
					<%= f.text_field :lat, "class" => "kuang_lat", "id" => "kuang_lat_input" %>
			  		<%= f.label :酒店经度%>
					<%= f.text_field :lon, "class" => "kuang_lon", "id" => "kuang_lon_input" %>
			  		<%= f.label :酒店电话%>
			  		<%= f.text_field :tel %>
	
			</div>
			<div class="span3">
		
			 		<%= f.label :用户名%>
			  		<%= f.text_field :username %>
			  		<%= f.label :密码%>
			    	<%= f.text_field :password %>
			    	<%= f.label :是否管理员%>
		  			<%= f.text_field :is_admin %>
		  			<div>更改状态：</div>
	  				<%= f.text_field :status,"id"=>"zhuangtai" %>
	  				<button id="qiyong" type="button" class="btn btn-primary" onclick="qy()">启用或禁用</button>
			  		 
					  <p>
					    <%= f.submit "提交修改"%>
					    <%= link_to "返回", hotals_path%>
					  </p>
					  友情提示：使用鼠标点击地图以获得酒店经纬度！ 
	 			<%end%>
				
			</div>
			<div style="height: 100%;" class="span6">					
				  	<div style="height: 100%;" id="allmap"></div>				  	
			</div>
    	</div> 
    	<div class="row-fluid">
    		
    		
    		<% if @hotal.errors.any? %>
		    		<h2>编辑酒店时发生如下错误：</h2>
		    			<ul>
			    		<% @hotal.errors.messages.each do |msg| %>
			    		<li><%= msg[1][0] %></li>
			    		<% end %>
		    			</ul>
	    	<% end %>
	  		
    		<footer>  
			<p>© By Peter 2015</p>  
			</footer>  
		</div>
    </div>
</div>
  	 
   
    <!-- Le javascript  
    ================================================== -->  
    <!-- Placed at the end of the document so the pages load faster 
    <script src="//cdnjs.bootcss.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>  
    <script src="//cdnjs.bootcss.com/ajax/libs/twitter-bootstrap/2.3.1/js/bootstrap.min.js"></script>  
  
  </body>  
</html> 
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");            
	map.centerAndZoom("苏州",12);           
	//单击获取点击的经纬度
	map.enableScrollWheelZoom();   //启用滚轮放大缩小，默认禁用
	map.enableContinuousZoom();    //启用地图惯性拖拽，默认禁用
	map.addEventListener("click",function(e){
  	
  		document.getElementById("kuang_lat_input").value = e.point.lat;
  		document.getElementById("kuang_lon_input").value = e.point.lng;
		alert(e.point.lng + "," + e.point.lat);
	});
</script>

-->
<script>
function qy(){

 var kuang = document.getElementById("zhuangtai");
	if (kuang.value=="1")
	{
  	  	
  		kuang.value="0";
  		alert("现在已关闭");
  	}
  	else
  	{
  		kuang.value="1";
  		alert("现在已启用");
  	}
}

</script>